# Payloads

- [Network: Ethereum, PayloadsController: 0xdAbad81aF85554E9ae636395611C58F7eC1aAEc5, ID: 46](/reports/payloads/1/0xdAbad81aF85554E9ae636395611C58F7eC1aAEc5/46.md)

## Proposal 5

- Simulation: [https://dashboard.tenderly.co/me/simulator/d2f9f79f-4310-40ca-9a92-c88a26c098ba](https://dashboard.tenderly.co/me/simulator/d2f9f79f-4310-40ca-9a92-c88a26c098ba)
- state: Active
- creator: 0x57ab7ee15cE5ECacB1aB84EE42D5A9d0d8112922
- maximumAccessLevelRequired: 1
- payloads: [{"chain":"1","accessLevel":1,"payloadsController":"0xdAbad81aF85554E9ae636395611C58F7eC1aAEc5","payloadId":46}]
- createdAt: [12/01/2024, 20:19:35](https://etherscan.io/tx/0x75bf1487de680b43a7bc4a7dbceedff6d7a70cdd8eec266cd6f6a9ff44165ac7)

### Ipfs

<details>
  <summary>Proposal text</summary>
  
  
## Simple Summary

This AIP aims to consolidate Aave DAO's stablecoin holdings. It is divided into different parts that are detailed below. This is part two and it consists of depositing USDC into Aave v3 Ethereum, as well as migrating the v2 position to v3 in Ethereum. Also depositing USDT into Aave v2 Ethereum and swapping DAI and USDC for GHO.

## Motivation

This AIP (Part B) when implemented ensures the Aave Protocol is sufficiently funded to support service providers receiving DAI, GHO and USDT.

The funds transferred from Polygon to Ethereum by the Aave Funding Part A AIP are to be deposited into Aave v2 and v3 as required and DAI swapped to GHO. In addition, with no USDC stream drawing from Aave v2 on Ethereum, all USDC is to be withdrawn from v2. 1.00M of this USDC is to be swapped to GHO and the remainder to be deposited into v3.

## Specification

- Deposit 1.7M units of USDC from Treasury into Aave v3 Ethereum (received from Polygon bridge)
- Deposit 750k units of USDT from Treasury into Aave v3 Ethereum (received from Polygon bridge)
- Withdraw all but 10 units of USDC from Aave v2 Ethereum Pool into USDC (keep 10 units of USDC as dust, as to not leave an empty reserve)
- Deposit the balance of the withdrawn USDC, minuts the 1.0M to be swapped, into Aave v3 Ethereum Pool (withdrawn in previous step)

Swap the following asset holdings to GHO:

- 500k units of DAI held in Treasury (received from Polygon bridge)
- 1.0M units of USDC (withdrawn from Aave v2 Ethereum in previous step)

## References

- Implementation: [AaveV3Ethereum](https://github.com/bgd-labs/aave-proposals-v3/blob/6f6d369f9ae1d13828b93b7a1276cf6241682cd4/src/20231106_AaveV3Ethereum_AaveFundingUpdates/AaveV3Ethereum_AaveFundingUpdates_20231106.sol)
- Tests: [AaveV3Ethereum](https://github.com/bgd-labs/aave-proposals-v3/blob/6f6d369f9ae1d13828b93b7a1276cf6241682cd4/src/20231106_AaveV3Ethereum_AaveFundingUpdates/AaveV3Ethereum_AaveFundingUpdates_20231106.t.sol)
- [Snapshot](https://snapshot.org/#/aave.eth/proposal/0x099f88e1728760952be26fcb8fc99b26c29336e6a109820b391751b108399ee5)
- [Discussion](https://governance.aave.com/t/arfc-aave-funding-update/15194)

## Disclaimer

TokenLogic and karpatkey receive no compensation beyond Aave protocol for the creation of this proposal. TokenLogic and karpatkey are both delegates within the Aave ecosystem.

## Copyright

Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).

</details>

### Check: Reports all state changes :white_check_mark:

#### Info


TransparentUpgradeableProxy at `0x9AEE0B04504CeF83A65AC3f0e838D0593BCb2BC7`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE") with implementation Governance at `0x58BcB647C4beFf253B4B6996c62F737B783f2cDd`
```diff
@@ `_proposals` key `"5"`.state @@
- 2061432742907929964035385714213123
+ 2061432742907929964035385714213124

```

TransparentUpgradeableProxy at `0xdAbad81aF85554E9ae636395611C58F7eC1aAEc5`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.PAYLOADS_CONTROLLER") with implementation PayloadsController at `0x7222182cB9c5320587b5148BF03eeE107AD64578`
```diff
@@ Slot `0xa7d0f7195d52522be008ca0e9c182cb8d5cdec7c4327b16f8f80417732546566` @@
- "0x00000000000065a02ba301013765a685a401622c060e5d700d9ad89413363a91"
+ "0x0065a6822b0065a02ba302013765a685a401622c060e5d700d9ad89413363a91"
```

TransparentUpgradeableProxy at `0xEd42a7D8559a463722Ca4beD50E0Cc05a386b0e1`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.CROSS_CHAIN_CONTROLLER") with implementation CrossChainController at `0x0Bf5bbfaE7808D329e0Ba8277e0b746BbfDA68f1`
```diff
@@ _currentEnvelopeNonce @@
- 124
+ 125
@@ _currentTransactionNonce @@
- 124
+ 125
@@ `_forwardedTransactions` key `0x14b839979a7372d3519c4baa982375b9cd93057d1d3fb16d80fb8fc10bad8f95` @@
- false
+ true

@@ `_registeredEnvelopes` key `0x83331fd146382328daccb0690d7345a1de08a22b2a55cf140e004cba764b63d8` @@
- false
+ true

```


### Check: Reports all events emitted from the proposal :white_check_mark:

#### Info

- TransparentUpgradeableProxy at `0xEd42a7D8559a463722Ca4beD50E0Cc05a386b0e1`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.CROSS_CHAIN_CONTROLLER") with implementation CrossChainController at `0x0Bf5bbfaE7808D329e0Ba8277e0b746BbfDA68f1`
  - `EnvelopeRegistered(envelopeId: 0x83331fd146382328daccb0690d7345a1de08a22b2a55cf140e004cba764b63d8, envelope: [object Object])`
  - `TransactionForwardingAttempted(transactionId: 0x14b839979a7372d3519c4baa982375b9cd93057d1d3fb16d80fb8fc10bad8f95, envelopeId: 0x83331fd146382328daccb0690d7345a1de08a22b2a55cf140e004cba764b63d8, encodedTransaction: 0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007c000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000007c0000000000000000000000009aee0b04504cef83a65ac3f0e838d0593bcb2bc7000000000000000000000000dabad81af85554e9ae636395611c58f7ec1aaec50000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000002e00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000065a2f06f, destinationChainId: 1, bridgeAdapter: 0x118dfd5418890c0332042ab05173db4a2c1d283c, destinationBridgeAdapter: 0x118dfd5418890c0332042ab05173db4a2c1d283c, adapterSuccessful: true, returnData: 0x000000000000000000000000dabad81af85554e9ae636395611c58f7ec1aaec50000000000000000000000000000000000000000000000000000000000000000)`
- TransparentUpgradeableProxy at `0xdAbad81aF85554E9ae636395611C58F7eC1aAEc5`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.PAYLOADS_CONTROLLER") with implementation PayloadsController at `0x7222182cB9c5320587b5148BF03eeE107AD64578`
  - `PayloadQueued(payloadId: 46)`
  - `PayloadExecutionMessageReceived(originSender: 0x9aee0b04504cef83a65ac3f0e838d0593bcb2bc7, originChainId: 1, delivered: true, message: 0x000000000000000000000000000000000000000000000000000000000000002e00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000065a2f06f, reason: 0x)`
- TransparentUpgradeableProxy at `0x9AEE0B04504CeF83A65AC3f0e838D0593BCb2BC7`[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE") with implementation Governance at `0x58BcB647C4beFf253B4B6996c62F737B783f2cDd`
  - `PayloadSent(proposalId: 5, payloadId: 46, payloadsController: 0xdabad81af85554e9ae636395611c58f7ec1aaec5, chainId: 1, payloadNumberOnProposal: 0, numberOfPayloadsOnProposal: 1)`
  - `ProposalExecuted(proposalId: 5)`

### Check: Check all touched contracts are verified on Etherscan :white_check_mark:

#### Info

- 0xd73a92be73efbfcf3854433a5fcbabf9c1316073: EOA (verification not applicable)
- 0x9aee0b04504cef83a65ac3f0e838d0593bcb2bc7: Contract (verified) (TransparentUpgradeableProxy) [:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE")
- 0x58bcb647c4beff253b4b6996c62f737b783f2cdd: Contract (verified) (Governance) 
- 0xa198fac58e02a5c5f8f7e877895d50cfa9ad1e04: Contract (verified) (GovernancePowerStrategy) [:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE_POWER_STRATEGY")
- 0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9: Contract (verified) (InitializableAdminUpgradeabilityProxy) [:ghost:](https://github.com/bgd-labs/aave-address-book "AaveV2Ethereum.ASSETS.AAVE.UNDERLYING, AaveV3Ethereum.ASSETS.AAVE.UNDERLYING")
- 0x5d4aa78b08bc7c530e21bf7447988b1be7991322: Contract (verified) (AaveTokenV3) 
- 0x4da27a545c0c5b758a6ba100e3a049001de870f5: Contract (verified) (InitializableAdminUpgradeabilityProxy) 
- 0x0fe58fe1caa69951dc924a8c222be19013b89476: Contract (verified) (StakedAaveV3) 
- 0xa700b4eb416be35b2911fd5dee80678ff64ff6c9: Contract (verified) (InitializableImmutableAdminUpgradeabilityProxy) [:ghost:](https://github.com/bgd-labs/aave-address-book "AaveV3Ethereum.ASSETS.AAVE.A_TOKEN")
- 0x366ae337897223aea70e3ebe1862219386f20593: Contract (verified) (ATokenWithDelegation) 
- 0xed42a7d8559a463722ca4bed50e0cc05a386b0e1: Contract (verified) (TransparentUpgradeableProxy) [:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.CROSS_CHAIN_CONTROLLER")
- 0x0bf5bbfae7808d329e0ba8277e0b746bbfda68f1: Contract (verified) (CrossChainController) 
- 0x118dfd5418890c0332042ab05173db4a2c1d283c: Contract (verified) (SameChainAdapter) 
- 0xdabad81af85554e9ae636395611c58f7ec1aaec5: Contract (verified) (TransparentUpgradeableProxy) [:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.PAYLOADS_CONTROLLER")
- 0x7222182cb9c5320587b5148bf03eee107ad64578: Contract (verified) (PayloadsController) 

### Check: Check all touched contracts do not contain selfdestruct :white_check_mark:

#### Warnings

- [0xd73a92be73efbfcf3854433a5fcbabf9c1316073](https://etherscan.io/address/0xd73a92be73efbfcf3854433a5fcbabf9c1316073): EOA (may have code later)
- [0x9aee0b04504cef83a65ac3f0e838d0593bcb2bc7](https://etherscan.io/address/0x9aee0b04504cef83a65ac3f0e838d0593bcb2bc7): Contract (with DELEGATECALL)[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE")
- [0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9](https://etherscan.io/address/0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9): Contract (with DELEGATECALL)[:ghost:](https://github.com/bgd-labs/aave-address-book "AaveV2Ethereum.ASSETS.AAVE.UNDERLYING, AaveV3Ethereum.ASSETS.AAVE.UNDERLYING")
- [0x4da27a545c0c5b758a6ba100e3a049001de870f5](https://etherscan.io/address/0x4da27a545c0c5b758a6ba100e3a049001de870f5): Contract (with DELEGATECALL)
- [0x0fe58fe1caa69951dc924a8c222be19013b89476](https://etherscan.io/address/0x0fe58fe1caa69951dc924a8c222be19013b89476): Contract (with DELEGATECALL)
- [0xa700b4eb416be35b2911fd5dee80678ff64ff6c9](https://etherscan.io/address/0xa700b4eb416be35b2911fd5dee80678ff64ff6c9): Contract (with DELEGATECALL)[:ghost:](https://github.com/bgd-labs/aave-address-book "AaveV3Ethereum.ASSETS.AAVE.A_TOKEN")
- [0xed42a7d8559a463722ca4bed50e0cc05a386b0e1](https://etherscan.io/address/0xed42a7d8559a463722ca4bed50e0cc05a386b0e1): Contract (with DELEGATECALL)[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.CROSS_CHAIN_CONTROLLER")
- [0x0bf5bbfae7808d329e0ba8277e0b746bbfda68f1](https://etherscan.io/address/0x0bf5bbfae7808d329e0ba8277e0b746bbfda68f1): Contract (with DELEGATECALL)
- [0xdabad81af85554e9ae636395611c58f7ec1aaec5](https://etherscan.io/address/0xdabad81af85554e9ae636395611c58f7ec1aaec5): Contract (with DELEGATECALL)[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.PAYLOADS_CONTROLLER")

#### Info

- [0x58bcb647c4beff253b4b6996c62f737b783f2cdd](https://etherscan.io/address/0x58bcb647c4beff253b4b6996c62f737b783f2cdd): Contract (looks safe)
- [0xa198fac58e02a5c5f8f7e877895d50cfa9ad1e04](https://etherscan.io/address/0xa198fac58e02a5c5f8f7e877895d50cfa9ad1e04): Contract (looks safe)[:ghost:](https://github.com/bgd-labs/aave-address-book "GovernanceV3Ethereum.GOVERNANCE_POWER_STRATEGY")
- [0x5d4aa78b08bc7c530e21bf7447988b1be7991322](https://etherscan.io/address/0x5d4aa78b08bc7c530e21bf7447988b1be7991322): Contract (looks safe)
- [0x366ae337897223aea70e3ebe1862219386f20593](https://etherscan.io/address/0x366ae337897223aea70e3ebe1862219386f20593): Contract (looks safe)
- [0x118dfd5418890c0332042ab05173db4a2c1d283c](https://etherscan.io/address/0x118dfd5418890c0332042ab05173db4a2c1d283c): Contract (looks safe)
- [0x7222182cb9c5320587b5148bf03eee107ad64578](https://etherscan.io/address/0x7222182cb9c5320587b5148bf03eee107ad64578): Contract (looks safe)

